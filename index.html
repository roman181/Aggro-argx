<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0f3460">
  <title>ARGO Community Portal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* ===== RESET & GLOBAL STYLES ===== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }

    html {
      height: 100%;
      overflow-x: hidden;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      color: #fff;
      min-height: 100vh;
      min-height: -webkit-fill-available;
      padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
      overscroll-behavior: none;
      position: relative;
    }

    /* ===== LAYOUT CONTAINERS ===== */
    .mobile-container {
      max-width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
      position: relative;
    }

    .content {
      flex: 1;
      padding: 15px;
      padding-bottom: 80px; /* Raum für Bottom Navigation */
    }

    /* ===== HEADER ===== */
    .mobile-header {
      padding: 15px;
      background: rgba(34, 40, 49, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 2px solid #f4d35e;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      z-index: 100;
    }

    .logo {
      font-size: 22px;
      font-weight: 900;
      background: linear-gradient(45deg, #f4d35e, #ffd700);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-icon {
      font-size: 24px;
    }

    /* ===== TOUCH BUTTONS ===== */
    .touch-btn {
      min-width: 44px;
      min-height: 44px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(244, 211, 94, 0.3);
      border-radius: 12px;
      color: #f4d35e;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all 0.2s;
      touch-action: manipulation;
      cursor: pointer;
    }

    .touch-btn:active {
      transform: scale(0.95);
      background: rgba(244, 211, 94, 0.2);
    }

    /* ===== WELCOME SECTION ===== */
    .welcome-section {
      text-align: center;
      padding: 20px 0;
      margin-bottom: 25px;
    }

    .welcome-title {
      font-size: 24px;
      margin-bottom: 8px;
      color: #f4d35e;
    }

    .welcome-subtitle {
      font-size: 14px;
      color: #aaa;
      max-width: 300px;
      margin: 0 auto;
      line-height: 1.4;
    }

    /* ===== AUTH FORMS ===== */
    .auth-container {
      max-width: 400px;
      margin: 0 auto;
    }

    .form-toggle {
      display: flex;
      background: rgba(34, 40, 49, 0.8);
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
      border: 1px solid rgba(244, 211, 94, 0.2);
    }

    .toggle-btn {
      flex: 1;
      padding: 15px;
      text-align: center;
      font-weight: 600;
      background: transparent;
      border: none;
      color: #aaa;
      font-size: 14px;
      transition: all 0.3s;
      cursor: pointer;
    }

    .toggle-btn.active {
      background: rgba(244, 211, 94, 0.2);
      color: #f4d35e;
    }

    .form-wrapper {
      background: rgba(34, 40, 49, 0.8);
      border-radius: 16px;
      padding: 25px 20px;
      border: 1px solid rgba(244, 211, 94, 0.2);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      margin-bottom: 25px;
    }

    .form-title {
      text-align: center;
      font-size: 20px;
      margin-bottom: 20px;
      color: #f4d35e;
    }

    .form-group {
      margin-bottom: 18px;
    }

    .form-label {
      display: block;
      font-size: 13px;
      color: #aaa;
      margin-bottom: 6px;
      padding-left: 5px;
    }

    .form-input {
      width: 100%;
      padding: 14px 15px;
      background: rgba(0, 0, 0, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      color: white;
      font-size: 16px;
      transition: all 0.3s;
    }

    .form-input:focus {
      outline: none;
      border-color: #f4d35e;
      background: rgba(0, 0, 0, 0.6);
    }

    .form-input::placeholder {
      color: #666;
    }

    .form-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(180deg, #d32f2f, #b71c1c);
      border: none;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      font-size: 16px;
      letter-spacing: 1px;
      margin-top: 10px;
      transition: all 0.3s;
      cursor: pointer;
      touch-action: manipulation;
    }

    .form-btn:active {
      transform: scale(0.98);
      background: linear-gradient(180deg, #f44336, #d32f2f);
    }

    .form-footer {
      text-align: center;
      margin-top: 20px;
      font-size: 13px;
      color: #888;
    }

    .form-link {
      color: #f4d35e;
      text-decoration: none;
      font-weight: 500;
    }

    /* ===== DASHBOARD (nach Login) ===== */
    .dashboard {
      display: none; /* Standardmäßig ausgeblendet */
    }

    .user-info {
      background: linear-gradient(145deg, rgba(34, 40, 49, 0.9), rgba(57, 62, 70, 0.9));
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 25px;
      border: 2px solid rgba(244, 211, 94, 0.3);
      text-align: center;
    }

    .user-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(45deg, #f4d35e, #ff9800);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
      font-size: 36px;
      color: #222831;
    }

    .user-name {
      font-size: 20px;
      margin-bottom: 5px;
      color: #f4d35e;
    }

    .user-level {
      font-size: 13px;
      color: #aaa;
      background: rgba(0, 0, 0, 0.3);
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      margin-top: 5px;
    }

    /* ===== BÜRGER-MENÜ ===== */
    .citizen-menu {
      margin-bottom: 30px;
    }

    .menu-title {
      font-size: 18px;
      margin-bottom: 15px;
      color: #f4d35e;
      padding-left: 5px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .menu-card {
      background: linear-gradient(145deg, rgba(34, 40, 49, 0.9), rgba(57, 62, 70, 0.9));
      border-radius: 16px;
      padding: 20px 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      text-decoration: none;
      border: 2px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s;
      touch-action: manipulation;
    }

    .menu-card:active {
      transform: scale(0.97);
      border-color: #f4d35e;
      background: rgba(244, 211, 94, 0.1);
    }

    .menu-icon {
      font-size: 32px;
      margin-bottom: 12px;
      color: #f4d35e;
    }

    .menu-label {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 5px;
      color: white;
    }

    .menu-desc {
      font-size: 12px;
      color: #aaa;
      line-height: 1.4;
    }

    /* ===== RANKING SECTION ===== */
    .ranking-section {
      margin-top: 30px;
    }

    .ranking-card {
      background: rgba(34, 40, 49, 0.8);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid rgba(244, 211, 94, 0.2);
    }

    .ranking-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .ranking-title {
      font-size: 18px;
      color: #f4d35e;
    }

    .ranking-filter {
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 8px 12px;
      color: white;
      font-size: 13px;
    }

    .ranking-list {
      max-height: 300px;
      overflow-y: auto;
    }

    .ranking-item {
      display: flex;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .ranking-item:last-child {
      border-bottom: none;
    }

    .ranking-pos {
      width: 30px;
      text-align: center;
      font-weight: bold;
      font-size: 18px;
      color: #f4d35e;
    }

    .ranking-user {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .ranking-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(45deg, #666, #999);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: white;
    }

    .ranking-name {
      font-size: 15px;
      font-weight: 500;
    }

    .ranking-score {
      font-weight: bold;
      color: #f4d35e;
      font-size: 16px;
    }

    /* ===== BOTTOM NAVIGATION ===== */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(34, 40, 49, 0.98);
      backdrop-filter: blur(20px);
      border-top: 2px solid rgba(244, 211, 94, 0.2);
      display: flex;
      justify-content: space-around;
      padding: 12px 0 calc(12px + env(safe-area-inset-bottom));
      z-index: 1000;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      padding: 5px 10px;
      min-width: 60px;
      touch-action: manipulation;
      text-decoration: none;
    }

    .nav-item:active {
      opacity: 0.7;
    }

    .nav-item.active .nav-icon,
    .nav-item.active .nav-label {
      color: #f4d35e;
    }

    .nav-icon {
      font-size: 20px;
      color: #aaa;
    }

    .nav-label {
      font-size: 10px;
      color: #aaa;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ===== MODALS & OVERLAYS ===== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.active {
      display: flex;
      opacity: 1;
    }

    .modal-content {
      background: linear-gradient(145deg, #222831, #393e46);
      border-radius: 20px;
      padding: 25px;
      max-width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      border: 3px solid #f4d35e;
      position: relative;
      animation: modalSlideUp 0.3s ease;
    }

    @keyframes modalSlideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.5);
      color: #f4d35e;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      border: none;
      cursor: pointer;
    }

    .modal-title {
      color: #f4d35e;
      margin-bottom: 15px;
      font-size: 20px;
    }

    /* ===== MESSAGES ===== */
    .message {
      padding: 12px 15px;
      border-radius: 10px;
      margin-bottom: 15px;
      text-align: center;
      font-size: 14px;
      display: none;
    }

    .message.success {
      background: rgba(76, 175, 80, 0.2);
      border: 1px solid #4CAF50;
      color: #4CAF50;
      display: block;
    }

    .message.error {
      background: rgba(211, 47, 47, 0.2);
      border: 1px solid #d32f2f;
      color: #ff6b6b;
      display: block;
    }

    /* ===== LOADING SPINNER ===== */
    .loading-spinner {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
    }

    .loading-spinner.active {
      display: block;
    }

    /* ===== RESPONSIVE ADJUSTMENTS ===== */
    @media (max-width: 320px) {
      .menu-grid {
        grid-template-columns: 1fr;
      }
      
      .ranking-item {
        font-size: 14px;
      }
    }

    @media (min-width: 768px) and (orientation: landscape) {
      .content {
        max-width: 600px;
        margin: 0 auto;
      }
      
      .menu-grid {
        grid-template-columns: repeat(4, 1fr);
      }
      
      .bottom-nav {
        max-width: 600px;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 16px 16px 0 0;
        border: 2px solid rgba(244, 211, 94, 0.2);
        border-bottom: none;
      }
    }

    /* Disable text selection */
    .no-select {
      -webkit-user-select: none;
      user-select: none;
    }
  </style>
</head>
<body class="no-select">
  <div class="mobile-container">
    <!-- Header -->
    <header class="mobile-header">
      <div class="logo">
        <i class="fas fa-crown logo-icon"></i>
        ARGO Community
      </div>
      <button class="touch-btn" id="menuBtn">
        <i class="fas fa-bars"></i>
      </button>
    </header>

    <!-- Content -->
    <main class="content">
      <!-- Welcome Section -->
      <div class="welcome-section">
        <h1 class="welcome-title">Willkommen in der ARGO Community</h1>
        <p class="welcome-subtitle">Trete unserer exklusiven Plattform bei, spiele den ARGO Slot und steige in die Rangliste auf!</p>
      </div>

      <!-- Messages -->
      <div id="messageContainer"></div>

      <!-- Auth Forms (Initial View) -->
      <div id="authContainer" class="auth-container">
        <div class="form-toggle">
          <button class="toggle-btn active" id="loginToggle">Anmelden</button>
          <button class="toggle-btn" id="registerToggle">Registrieren</button>
        </div>

        <!-- Login Form -->
        <div id="loginForm" class="form-wrapper">
          <h2 class="form-title">Anmeldung</h2>
          <div class="form-group">
            <label class="form-label" for="loginEmail">E-Mail</label>
            <input type="email" id="loginEmail" class="form-input" placeholder="deine@email.de" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="loginPassword">Passwort</label>
            <input type="password" id="loginPassword" class="form-input" placeholder="••••••••" required>
          </div>
          <button class="form-btn" id="loginBtn">Einloggen</button>
          <div class="form-footer">
            <a href="#" id="forgotPassword" class="form-link">Passwort vergessen?</a>
          </div>
        </div>

        <!-- Register Form -->
        <div id="registerForm" class="form-wrapper" style="display: none;">
          <h2 class="form-title">Registrierung</h2>
          <div class="form-group">
            <label class="form-label" for="registerUsername">Benutzername</label>
            <input type="text" id="registerUsername" class="form-input" placeholder="Wähle einen Namen" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="registerEmail">E-Mail</label>
            <input type="email" id="registerEmail" class="form-input" placeholder="deine@email.de" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="registerPassword">Passwort</label>
            <input type="password" id="registerPassword" class="form-input" placeholder="Mindestens 8 Zeichen" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="registerConfirmPassword">Passwort bestätigen</label>
            <input type="password" id="registerConfirmPassword" class="form-input" placeholder="Passwort wiederholen" required>
          </div>
          <div class="form-group">
            <label class="form-label" for="registerCode">Einladungscode (optional)</label>
            <input type="text" id="registerCode" class="form-input" placeholder="Falls vorhanden">
          </div>
          <button class="form-btn" id="registerBtn">Konto erstellen</button>
          <div class="form-footer">
            Mit der Registrierung akzeptierst du unsere <a href="#" class="form-link">AGB</a>
          </div>
        </div>
      </div>

      <!-- Dashboard (after login) -->
      <div id="dashboard" class="dashboard">
        <!-- User Info -->
        <div class="user-info">
          <div class="user-avatar" id="userAvatar">U</div>
          <h2 class="user-name" id="userName">Benutzername</h2>
          <div class="user-level" id="userLevel">Level 1 • 0 Punkte</div>
        </div>

        <!-- Citizen Menu -->
        <div class="citizen-menu">
          <h3 class="menu-title">
            <i class="fas fa-th-large"></i>
            Bürger-Menü
          </h3>
          
          <div class="menu-grid">
            <!-- My Account -->
            <a href="#" class="menu-card" id="menuMyAcc">
              <div class="menu-icon">
                <i class="fas fa-user-circle"></i>
              </div>
              <div class="menu-label">My Account</div>
              <div class="menu-desc">Dein Profil, Einstellungen und Statistiken</div>
            </a>
            
            <!-- Slot Game -->
            <a href="slot.html" class="menu-card" id="menuSlot">
              <div class="menu-icon">
                <i class="fas fa-gamepad"></i>
              </div>
              <div class="menu-label">ARGO Slot</div>
              <div class="menu-desc">Spiele das exklusive ARGO-Slot-Spiel</div>
            </a>
            
            <!-- Top 50 Ranking -->
            <a href="#" class="menu-card" id="menuRanking">
              <div class="menu-icon">
                <i class="fas fa-trophy"></i>
              </div>
              <div class="menu-label">Top 50 Rang</div>
              <div class="menu-desc">Die besten Spieler der Community</div>
            </a>
            
            <!-- Community -->
            <a href="#" class="menu-card" id="menuCommunity">
              <div class="menu-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="menu-label">Community</div>
              <div class="menu-desc">Chat, Foren und Events</div>
            </a>
            
            <!-- Rewards -->
            <a href="#" class="menu-card" id="menuRewards">
              <div class="menu-icon">
                <i class="fas fa-gift"></i>
              </div>
              <div class="menu-label">Belohnungen</div>
              <div class="menu-desc">Tägliche Boni und Achievements</div>
            </a>
            
            <!-- Support -->
            <a href="#" class="menu-card" id="menuSupport">
              <div class="menu-icon">
                <i class="fas fa-headset"></i>
              </div>
              <div class="menu-label">Support</div>
              <div class="menu-desc">Hilfe, FAQ und Kontakt</div>
            </a>
          </div>
        </div>

        <!-- Ranking Preview -->
        <div class="ranking-section">
          <div class="ranking-card">
            <div class="ranking-header">
              <h3 class="ranking-title">Top 50 Rangliste</h3>
              <select class="ranking-filter" id="rankingFilter">
                <option value="weekly">Diese Woche</option>
                <option value="monthly">Dieser Monat</option>
                <option value="alltime">Gesamt</option>
              </select>
            </div>
            
            <div class="ranking-list" id="rankingList">
              <!-- Top 5 werden hier geladen -->
              <div class="ranking-item">
                <div class="ranking-pos">1</div>
                <div class="ranking-user">
                  <div class="ranking-avatar" style="background: linear-gradient(45deg, #FFD700, #FFA500);">M</div>
                  <div class="ranking-name">MaxMaster</div>
                </div>
                <div class="ranking-score">12.450</div>
              </div>
              
              <div class="ranking-item">
                <div class="ranking-pos">2</div>
                <div class="ranking-user">
                  <div class="ranking-avatar" style="background: linear-gradient(45deg, #C0C0C0, #808080);">S</div>
                  <div class="ranking-name">SlotQueen</div>
                </div>
                <div class="ranking-score">10.890</div>
              </div>
              
              <div class="ranking-item">
                <div class="ranking-pos">3</div>
                <div class="ranking-user">
                  <div class="ranking-avatar" style="background: linear-gradient(45deg, #CD7F32, #A0522D);">A</div>
                  <div class="ranking-name">ArgoPro</div>
                </div>
                <div class="ranking-score">9.560</div>
              </div>
              
              <div class="ranking-item">
                <div class="ranking-pos">4</div>
                <div class="ranking-user">
                  <div class="ranking-avatar">J</div>
                  <div class="ranking-name">JackpotJens</div>
                </div>
                <div class="ranking-score">8.120</div>
              </div>
              
              <div class="ranking-item">
                <div class="ranking-pos">5</div>
                <div class="ranking-user">
                  <div class="ranking-avatar">L</div>
                  <div class="ranking-name">LuckyLisa</div>
                </div>
                <div class="ranking-score">7.450</div>
              </div>
            </div>
            
            <div style="text-align: center; margin-top: 15px;">
              <a href="#" id="viewFullRanking" class="form-link">
                <i class="fas fa-chevron-down"></i> Vollständige Rangliste anzeigen
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="#" class="nav-item active" id="navHome">
        <i class="fas fa-home nav-icon"></i>
        <div class="nav-label">Home</div>
      </a>
      <a href="slot.html" class="nav-item" id="navSlot">
        <i class="fas fa-gamepad nav-icon"></i>
        <div class="nav-label">Slot</div>
      </a>
      <a href="#" class="nav-item" id="navRank">
        <i class="fas fa-trophy nav-icon"></i>
        <div class="nav-label">Rang</div>
      </a>
      <a href="#" class="nav-item" id="navProfile">
        <i class="fas fa-user nav-icon"></i>
        <div class="nav-label">Profil</div>
      </a>
    </nav>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
      <i class="fas fa-spinner fa-spin fa-2x" style="color: #f4d35e;"></i>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal-overlay" id="forgotPasswordModal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeModal('forgotPasswordModal')">
          <i class="fas fa-times"></i>
        </button>
        <h3 class="modal-title">Passwort zurücksetzen</h3>
        <p style="margin-bottom: 20px; color: #aaa; font-size: 14px;">
          Gib deine E-Mail-Adresse ein. Wir senden dir einen Link zum Zurücksetzen deines Passworts.
        </p>
        <div class="form-group">
          <input type="email" id="resetEmail" class="form-input" placeholder="deine@email.de" required>
        </div>
        <button class="form-btn" id="resetPasswordBtn">Link senden</button>
      </div>
    </div>

    <!-- My Account Modal -->
    <div class="modal-overlay" id="myAccountModal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeModal('myAccountModal')">
          <i class="fas fa-times"></i>
        </button>
        <h3 class="modal-title">My Account</h3>
        <div style="display: grid; gap: 15px;">
          <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
            <div class="user-avatar" id="modalUserAvatar">U</div>
            <div>
              <div style="font-size: 18px; font-weight: bold;" id="modalUserName">Benutzername</div>
              <div style="color: #aaa; font-size: 13px;" id="modalUserEmail">user@email.de</div>
            </div>
          </div>
          
          <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span>Level</span>
              <span style="color: #f4d35e; font-weight: bold;" id="modalUserLevel">1</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span>Punkte</span>
              <span style="color: #f4d35e; font-weight: bold;" id="modalUserPoints">0</span>
            </div>
            <div style="display: flex; justify-content: space-between;">
              <span>Rang</span>
              <span style="color: #f4d35e; font-weight: bold;" id="modalUserRank">#-</span>
            </div>
          </div>
          
          <div>
            <h4 style="color: #f4d35e; margin-bottom: 10px;">Statistiken</h4>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
              <div style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; text-align: center;">
                <div style="font-size: 12px; color: #aaa;">Spins</div>
                <div style="font-size: 18px; font-weight: bold;" id="modalUserSpins">0</div>
              </div>
              <div style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; text-align: center;">
                <div style="font-size: 12px; color: #aaa;">Gewinnrate</div>
                <div style="font-size: 18px; font-weight: bold;" id="modalUserWinRate">0%</div>
              </div>
              <div style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; text-align: center;">
                <div style="font-size: 12px; color: #aaa;">Größter Gewinn</div>
                <div style="font-size: 18px; font-weight: bold;" id="modalUserBestWin">0</div>
              </div>
              <div style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; text-align: center;">
                <div style="font-size: 12px; color: #aaa;">Freispiele</div>
                <div style="font-size: 18px; font-weight: bold;" id="modalUserFreeSpins">0</div>
              </div>
            </div>
          </div>
          
          <div style="margin-top: 20px;">
            <button class="form-btn" style="background: #666; margin-bottom: 10px;" onclick="closeModal('myAccountModal')">
              <i class="fas fa-cog"></i> Einstellungen
            </button>
            <button class="form-btn" style="background: #d32f2f;" onclick="logout()">
              <i class="fas fa-sign-out-alt"></i> Abmelden
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ============================================
    // MOBILE HOMEPAGE - REGISTRIERUNG & LOGIN
    // ============================================

    // Benutzerdaten (In einer echten App würden diese auf einem Server gespeichert)
    let UserData = {
      isLoggedIn: false,
      currentUser: null,
      users: JSON.parse(localStorage.getItem('argoUsers')) || [],
      rankings: JSON.parse(localStorage.getItem('argoRankings')) || generateSampleRankings()
    };

    // DOM Elemente
    const DOM = {
      // Auth
      loginToggle: document.getElementById('loginToggle'),
      registerToggle: document.getElementById('registerToggle'),
      loginForm: document.getElementById('loginForm'),
      registerForm: document.getElementById('registerForm'),
      loginBtn: document.getElementById('loginBtn'),
      registerBtn: document.getElementById('registerBtn'),
      authContainer: document.getElementById('authContainer'),
      dashboard: document.getElementById('dashboard'),
      
      // Inputs
      loginEmail: document.getElementById('loginEmail'),
      loginPassword: document.getElementById('loginPassword'),
      registerUsername: document.getElementById('registerUsername'),
      registerEmail: document.getElementById('registerEmail'),
      registerPassword: document.getElementById('registerPassword'),
      registerConfirmPassword: document.getElementById('registerConfirmPassword'),
      registerCode: document.getElementById('registerCode'),
      
      // Dashboard
      userName: document.getElementById('userName'),
      userAvatar: document.getElementById('userAvatar'),
      userLevel: document.getElementById('userLevel'),
      rankingList: document.getElementById('rankingList'),
      rankingFilter: document.getElementById('rankingFilter'),
      
      // Modals
      messageContainer: document.getElementById('messageContainer'),
      loadingSpinner: document.getElementById('loadingSpinner')
    };

    // Initialisierung
    function init() {
      // Prüfe, ob Benutzer bereits eingeloggt ist
      const savedUser = localStorage.getItem('argoCurrentUser');
      if (savedUser) {
        try {
          UserData.currentUser = JSON.parse(savedUser);
          UserData.isLoggedIn = true;
          showDashboard();
          updateDashboard();
          loadRankings();
        } catch (e) {
          console.log('Fehler beim Laden des Benutzers');
          logout();
        }
      }
      
      // Event Listener
      setupEventListeners();
      
      // Demo-Rankings generieren, falls keine vorhanden
      if (UserData.rankings.length === 0) {
        UserData.rankings = generateSampleRankings();
        saveRankings();
      }
    }

    // Event Listener einrichten
    function setupEventListeners() {
      // Form Toggle
      DOM.loginToggle.addEventListener('click', () => showForm('login'));
      DOM.registerToggle.addEventListener('click', () => showForm('register'));
      
      // Login
      DOM.loginBtn.addEventListener('click', login);
      DOM.loginPassword.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') login();
      });
      
      // Registrierung
      DOM.registerBtn.addEventListener('click', register);
      DOM.registerConfirmPassword.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') register();
      });
      
      // Forgot Password
      document.getElementById('forgotPassword').addEventListener('click', (e) => {
        e.preventDefault();
        showModal('forgotPasswordModal');
      });
      
      // Password Reset
      document.getElementById('resetPasswordBtn').addEventListener('click', resetPassword);
      
      // Menu Items
      document.getElementById('menuMyAcc').addEventListener('click', (e) => {
        e.preventDefault();
        showMyAccountModal();
      });
      
      document.getElementById('menuRanking').addEventListener('click', (e) => {
        e.preventDefault();
        showFullRanking();
      });
      
      // Ranking Filter
      DOM.rankingFilter.addEventListener('change', loadRankings);
      
      // Full Ranking View
      document.getElementById('viewFullRanking').addEventListener('click', (e) => {
        e.preventDefault();
        showFullRanking();
      });
      
      // Bottom Navigation
      document.getElementById('navHome').addEventListener('click', (e) => {
        e.preventDefault();
        setActiveNav('navHome');
      });
      
      document.getElementById('navProfile').addEventListener('click', (e) => {
        e.preventDefault();
        if (UserData.isLoggedIn) {
          showMyAccountModal();
        } else {
          showForm('login');
        }
      });
    }

    // Formular anzeigen
    function showForm(formType) {
      if (formType === 'login') {
        DOM.loginForm.style.display = 'block';
        DOM.registerForm.style.display = 'none';
        DOM.loginToggle.classList.add('active');
        DOM.registerToggle.classList.remove('active');
      } else {
        DOM.loginForm.style.display = 'none';
        DOM.registerForm.style.display = 'block';
        DOM.loginToggle.classList.remove('active');
        DOM.registerToggle.classList.add('active');
      }
    }

    // Login-Funktion
    function login() {
      const email = DOM.loginEmail.value.trim();
      const password = DOM.loginPassword.value;
      
      if (!email || !password) {
        showMessage('Bitte fülle alle Felder aus', 'error');
        return;
      }
      
      showLoading(true);
      
      // Simuliere API-Aufruf
      setTimeout(() => {
        const user = UserData.users.find(u => 
          u.email === email && u.password === password
        );
        
        if (user) {
          UserData.currentUser = {
            id: user.id,
            username: user.username,
            email: user.email,
            level: user.level || 1,
            points: user.points || 0,
            stats: user.stats || {
              spins: 0,
              wins: 0,
              biggestWin: 0,
              freeSpins: 0
            }
          };
          
          UserData.isLoggedIn = true;
          
          // Speichere Login-Status
          localStorage.setItem('argoCurrentUser', JSON.stringify(UserData.currentUser));
          
          showDashboard();
          updateDashboard();
          loadRankings();
          showMessage(`Willkommen zurück, ${user.username}!`, 'success');
          
          // Formular leeren
          DOM.loginEmail.value = '';
          DOM.loginPassword.value = '';
        } else {
          showMessage('Ungültige E-Mail oder Passwort', 'error');
        }
        
        showLoading(false);
      }, 800);
    }

    // Registrierungs-Funktion
    function register() {
      const username = DOM.registerUsername.value.trim();
      const email = DOM.registerEmail.value.trim();
      const password = DOM.registerPassword.value;
      const confirmPassword = DOM.registerConfirmPassword.value;
      const inviteCode = DOM.registerCode.value.trim();
      
      // Validierung
      if (!username || !email || !password || !confirmPassword) {
        showMessage('Bitte fülle alle Pflichtfelder aus', 'error');
        return;
      }
      
      if (username.length < 3) {
        showMessage('Benutzername muss mindestens 3 Zeichen haben', 'error');
        return;
      }
      
      if (password.length < 8) {
        showMessage('Passwort muss mindestens 8 Zeichen haben', 'error');
        return;
      }
      
      if (password !== confirmPassword) {
        showMessage('Passwörter stimmen nicht überein', 'error');
        return;
      }
      
      if (!isValidEmail(email)) {
        showMessage('Bitte gib eine gültige E-Mail-Adresse ein', 'error');
        return;
      }
      
      // Prüfe, ob Benutzer bereits existiert
      if (UserData.users.some(u => u.email === email)) {
        showMessage('Diese E-Mail ist bereits registriert', 'error');
        return;
      }
      
      if (UserData.users.some(u => u.username === username)) {
        showMessage('Dieser Benutzername ist bereits vergeben', 'error');
        return;
      }
      
      showLoading(true);
      
      // Simuliere API-Aufruf
      setTimeout(() => {
        const newUser = {
          id: Date.now().toString(),
          username: username,
          email: email,
          password: password, // In der Praxis: niemals Passwörter im Klartext speichern!
          level: 1,
          points: 0,
          stats: {
            spins: 0,
            wins: 0,
            biggestWin: 0,
            freeSpins: 0
          },
          createdAt: new Date().toISOString(),
          inviteCode: inviteCode || null
        };
        
        UserData.users.push(newUser);
        localStorage.setItem('argoUsers', JSON.stringify(UserData.users));
        
        // Auto-Login
        UserData.currentUser = {
          id: newUser.id,
          username: newUser.username,
          email: newUser.email,
          level: newUser.level,
          points: newUser.points,
          stats: newUser.stats
        };
        
        UserData.isLoggedIn = true;
        localStorage.setItem('argoCurrentUser', JSON.stringify(UserData.currentUser));
        
        // Füge neuen Benutzer zu Rankings hinzu
        UserData.rankings.push({
          userId: newUser.id,
          username: newUser.username,
          points: 0,
          rank: UserData.rankings.length + 1
        });
        
        saveRankings();
        
        showDashboard();
        updateDashboard();
        showMessage(`Erfolgreich registriert! Willkommen, ${username}!`, 'success');
        
        // Formular leeren
        DOM.registerUsername.value = '';
        DOM.registerEmail.value = '';
        DOM.registerPassword.value = '';
        DOM.registerConfirmPassword.value = '';
        DOM.registerCode.value = '';
        
        showLoading(false);
      }, 1000);
    }

    // E-Mail-Validierung
    function isValidEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    // Dashboard anzeigen
    function showDashboard() {
      DOM.authContainer.style.display = 'none';
      DOM.dashboard.style.display = 'block';
      setActiveNav('navHome');
    }

    // Dashboard aktualisieren
    function updateDashboard() {
      if (!UserData.currentUser) return;
      
      const user = UserData.currentUser;
      
      // Benutzerinfo
      DOM.userName.textContent = user.username;
      DOM.userAvatar.textContent = user.username.charAt(0).toUpperCase();
      DOM.userLevel.textContent = `Level ${user.level} • ${user.points.toLocaleString('de-DE')} Punkte`;
      
      // Avatar-Farbe basierend auf Level
      if (user.level >= 10) {
        DOM.userAvatar.style.background = 'linear-gradient(45deg, #FFD700, #FFA500)';
      } else if (user.level >= 5) {
        DOM.userAvatar.style.background = 'linear-gradient(45deg, #C0C0C0, #808080)';
      } else {
        DOM.userAvatar.style.background = 'linear-gradient(45deg, #f4d35e, #ff9800)';
      }
    }

    // Rangliste laden
    function loadRankings() {
      const filter = DOM.rankingFilter.value;
      let rankings = [...UserData.rankings];
      
      // Sortiere nach Punkten (absteigend)
      rankings.sort((a, b) => b.points - a.points);
      
      // Aktualisiere Ränge
      rankings.forEach((user, index) => {
        user.rank = index + 1;
      });
      
      // Zeige Top 5
      const top5 = rankings.slice(0, 5);
      
      DOM.rankingList.innerHTML = '';
      
      top5.forEach(user => {
        const item = document.createElement('div');
        item.className = 'ranking-item';
        
        // Bestimme Avatar-Farbe basierend auf Rang
        let avatarColor = 'linear-gradient(45deg, #666, #999)';
        if (user.rank === 1) {
          avatarColor = 'linear-gradient(45deg, #FFD700, #FFA500)';
        } else if (user.rank === 2) {
          avatarColor = 'linear-gradient(45deg, #C0C0C0, #808080)';
        } else if (user.rank === 3) {
          avatarColor = 'linear-gradient(45deg, #CD7F32, #A0522D)';
        }
        
        item.innerHTML = `
          <div class="ranking-pos">${user.rank}</div>
          <div class="ranking-user">
            <div class="ranking-avatar" style="background: ${avatarColor}">${user.username.charAt(0).toUpperCase()}</div>
            <div class="ranking-name">${user.username}</div>
          </div>
          <div class="ranking-score">${user.points.toLocaleString('de-DE')}</div>
        `;
        
        DOM.rankingList.appendChild(item);
      });
      
      // Aktualisiere eigenen Rang in der Datenbank
      if (UserData.currentUser) {
        const currentRank = rankings.find(r => r.userId === UserData.currentUser.id);
        if (currentRank) {
          UserData.currentUser.rank = currentRank.rank;
          localStorage.setItem('argoCurrentUser', JSON.stringify(UserData.currentUser));
        }
      }
    }

    // Vollständige Rangliste anzeigen
    function showFullRanking() {
      showMessage('Vollständige Rangliste wird in der nächsten Version verfügbar sein', 'info');
    }

    // My Account Modal anzeigen
    function showMyAccountModal() {
      if (!UserData.currentUser) return;
      
      const user = UserData.currentUser;
      const stats = user.stats;
      const winRate = stats.spins > 0 ? ((stats.wins / stats.spins) * 100).toFixed(1) : 0;
      
      // Modal aktualisieren
      document.getElementById('modalUserAvatar').textContent = user.username.charAt(0).toUpperCase();
      document.getElementById('modalUserName').textContent = user.username;
      document.getElementById('modalUserEmail').textContent = user.email;
      document.getElementById('modalUserLevel').textContent = user.level;
      document.getElementById('modalUserPoints').textContent = user.points.toLocaleString('de-DE');
      document.getElementById('modalUserRank').textContent = user.rank ? `#${user.rank}` : '#-';
      document.getElementById('modalUserSpins').textContent = stats.spins.toLocaleString('de-DE');
      document.getElementById('modalUserWinRate').textContent = `${winRate}%`;
      document.getElementById('modalUserBestWin').textContent = stats.biggestWin.toLocaleString('de-DE');
      document.getElementById('modalUserFreeSpins').textContent = stats.freeSpins.toLocaleString('de-DE');
      
      showModal('myAccountModal');
    }

    // Passwort zurücksetzen
    function resetPassword() {
      const email = document.getElementById('resetEmail').value.trim();
      
      if (!email || !isValidEmail(email)) {
        showMessage('Bitte gib eine gültige E-Mail-Adresse ein', 'error');
        return;
      }
      
      showLoading(true);
      
      // Simuliere API-Aufruf
      setTimeout(() => {
        showLoading(false);
        closeModal('forgotPasswordModal');
        showMessage(`Ein Link zum Zurücksetzen wurde an ${email} gesendet (Demo)`, 'success');
        document.getElementById('resetEmail').value = '';
      }, 800);
    }

    // Abmelden
    function logout() {
      UserData.isLoggedIn = false;
      UserData.currentUser = null;
      localStorage.removeItem('argoCurrentUser');
      
      DOM.authContainer.style.display = 'block';
      DOM.dashboard.style.display = 'none';
      showForm('login');
      setActiveNav('navHome');
      
      showMessage('Du hast dich erfolgreich abgemeldet', 'success');
    }

    // Modal anzeigen
    function showModal(modalId) {
      document.getElementById(modalId).classList.add('active');
    }

    // Modal schließen
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
    }

    // Nachricht anzeigen
    function showMessage(text, type = 'info') {
      DOM.messageContainer.innerHTML = '';
      
      const message = document.createElement('div');
      message.className = `message ${type}`;
      message.textContent = text;
      
      DOM.messageContainer.appendChild(message);
      
      // Nachricht nach 5 Sekenden ausblenden
      setTimeout(() => {
        if (DOM.messageContainer.contains(message)) {
          message.style.opacity = '0';
          setTimeout(() => {
            if (DOM.messageContainer.contains(message)) {
              DOM.messageContainer.removeChild(message);
            }
          }, 300);
        }
      }, 5000);
    }

    // Ladeanimation anzeigen/ausblenden
    function showLoading(show) {
      if (show) {
        DOM.loadingSpinner.classList.add('active');
      } else {
        DOM.loadingSpinner.classList.remove('active');
      }
    }

    // Aktive Navigation setzen
    function setActiveNav(navId) {
      // Alle Navigationselemente zurücksetzen
      document.querySelectorAll('.nav-item').forEach(nav => {
        nav.classList.remove('active');
      });
      
      // Aktives Element setzen
      document.getElementById(navId).classList.add('active');
    }

    // Demo-Rankings generieren
    function generateSampleRankings() {
      const names = [
        'MaxMaster', 'SlotQueen', 'ArgoPro', 'JackpotJens', 'LuckyLisa',
        'SpinKing', 'WinWizard', 'BonusBoss', 'CashCow', 'MegaMüller',
        'JokerJens', 'QueenOfHearts', 'AceOfSpades', 'RoyalFlush', 'FullHouse',
        'SlotSorcerer', 'FortuneFinder', 'LuckLegend', 'PrizePirate', 'RewardRider'
      ];
      
      return names.map((name, index) => ({
        userId: `demo${index + 1}`,
        username: name,
        points: Math.floor(Math.random() * 15000) + 5000,
        rank: index + 1
      }));
    }

    // Rankings speichern
    function saveRankings() {
      localStorage.setItem('argoRankings', JSON.stringify(UserData.rankings));
    }

    // Initialisierung beim Laden
    document.addEventListener('DOMContentLoaded', init);
    
    // Safe Area Unterstützung für iOS
    document.documentElement.style.setProperty('--sat', 'env(safe-area-inset-top)');
    document.documentElement.style.setProperty('--sar', 'env(safe-area-inset-right)');
    document.documentElement.style.setProperty('--sab', 'env(safe-area-inset-bottom)');
    document.documentElement.style.setProperty('--sal', 'env(safe-area-inset-left)');
    
    // Touch-Optimierungen
    document.addEventListener('touchstart', function() {}, {passive: true});
  </script>
</body>
</html>